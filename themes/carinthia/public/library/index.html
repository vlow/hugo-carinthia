<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1314&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<title>
    Libraries | Carinthia Theme Test
</title>
<script>
    (function () {
        const THEME_KEY = "theme-preference";
        const themes = ["system", "light", "dark"];

        function getThemePreference() {
            const stored = localStorage.getItem(THEME_KEY);
            if (stored && themes.includes(stored)) {
                return stored;
            }
            return "system";
        }

        const theme = getThemePreference();
        document.documentElement.setAttribute("data-theme", theme);
    })();
</script>

<link rel="stylesheet" href="/css/main.css" /> 
<link rel="stylesheet" href="/css/syntax-light.css" id="syntax-light" disabled />
<link rel="stylesheet" href="/css/syntax-dark.css" id="syntax-dark" disabled />
 
      <script src="/js/main.js"></script>
  <link
    rel=""alternate""
    type=""application/rss+xml""
    href=""http://localhost:1314/library/index.xml""
    title=""Carinthia Theme Test""
/> 

</head>
<body>
  <header>
    <div class="header-top">
    <div class="site-branding">
        <h1 class="site-title">Carinthia Theme Test</h1>
        
    </div>
    <button
    id="theme-switcher"
    class="theme-switcher"
    aria-label="Switch theme"
    type="button"
>
    
    <svg
        class="theme-icon theme-icon-system"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        
        <g class="system-sun">
            <circle
                cx="12"
                cy="12"
                r="4"
                stroke="currentColor"
                stroke-width="2"
                opacity="0.3"
            />
            <path
                d="M12 2V6M12 18V22M4.22 4.22L6.34 6.34M17.66 17.66L19.78 19.78M2 12H6M18 12H22M4.22 19.78L6.34 17.66M17.66 6.34L19.78 4.22"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                opacity="0.3"
            />
        </g>
        
        <path
            class="system-moon"
            d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            opacity="0.3"
            style="display: none"
        />
        
        <text
            x="12"
            y="22"
            font-size="16"
            font-weight="bold"
            fill="currentColor"
        >
            A
        </text>
    </svg>

    
    <svg
        class="theme-icon theme-icon-light"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2" />
        <path
            d="M12 2V6M12 18V22M4.22 4.22L6.34 6.34M17.66 17.66L19.78 19.78M2 12H6M18 12H22M4.22 19.78L6.34 17.66M17.66 6.34L19.78 4.22"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
        />
    </svg>

    
    <svg
        class="theme-icon theme-icon-dark"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
        />
    </svg>
</button>

</div>
<div class="header-menu">
    
  <nav>
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/posts/">Posts</a>
    </li>
    <li>
      <a href="/library/">Library</a>
    </li>
    <li>
      <a href="/tags/">Tags</a>
    </li>
    </ul>
  </nav>

</div>

  </header>
  <main>
    
<h1>Libraries</h1>



<div class="library-controls">
    <div class="library-filter">
        <label for="category-filter">Filter by category:</label>
        <select id="category-filter">
            <option value="all">All Books</option>
            <option value="fiction">Fiction</option>
            <option value="non-fiction">Non-Fiction</option>
        </select>
    </div>

    <div class="library-sort">
        <label for="sort-method">Sort by:</label>
        <select id="sort-method">
            <option value="read-date">Read Date</option>
            <option value="alphabetical">Alphabetical</option>
        </select>
    </div>
</div>

<div class="library-content">
    
    <article class="library-card"
             data-category="non-fiction"
             data-title="Atomic Habits"
             data-finished-date="2023-12-05"
             data-finished-year="2023"
             data-first-letter="A">
        <a href="/library/atomic-habits/" class="card-link">
            
            <div class="card-image card-image-placeholder">
                <div class="placeholder-content">
                    <span>Atomic Habits</span>
                </div>
            </div>
            

            <div class="card-content">
                <h3 class="card-title">Atomic Habits</h3>

                <div class="card-meta">
                    
                    
                    <div class="meta-item">
                        <strong>Finished:</strong> December 5, 2023
                    </div>
                    

                    
                    <div class="meta-item">
                        <span class="category-badge category-non-fiction">Non-Fiction</span>
                    </div>
                    

                    
                    <div class="meta-item">
                        320 pages
                    </div>
                    
                </div>

                
                <p class="card-summary">A comprehensive guide to building good habits and breaking bad ones through small, incremental changes.</p>
                
            </div>
        </a>
    </article>
    
    <article class="library-card"
             data-category="fiction"
             data-title="Foundation"
             data-finished-date="2023-11-20"
             data-finished-year="2023"
             data-first-letter="F">
        <a href="/library/foundation/" class="card-link">
            
            <div class="card-image card-image-placeholder">
                <div class="placeholder-content">
                    <span>Foundation</span>
                </div>
            </div>
            

            <div class="card-content">
                <h3 class="card-title">Foundation</h3>

                <div class="card-meta">
                    
                    
                    <div class="meta-item">
                        <strong>Finished:</strong> November 20, 2023
                    </div>
                    

                    
                    <div class="meta-item">
                        <span class="category-badge category-fiction">Fiction</span>
                    </div>
                    

                    
                    <div class="meta-item">
                        244 pages
                    </div>
                    
                </div>

                
                <p class="card-summary">The first book in Asimovs epic Foundation series about psychohistory and the fall of a galactic empire.</p>
                
            </div>
        </a>
    </article>
    
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const categoryFilter = document.getElementById('category-filter');
    const sortMethod = document.getElementById('sort-method');
    const libraryContent = document.querySelector('.library-content');
    const cards = Array.from(document.querySelectorAll('.library-card'));

    function createSectionHeader(text, id) {
        const header = document.createElement('h2');
        header.textContent = text;
        header.className = 'library-section-header';
        header.id = id;
        return header;
    }

    function createSectionSeparator() {
        const hr = document.createElement('hr');
        hr.className = 'library-section-separator';
        return hr;
    }

    function createCardsWrapper() {
        const wrapper = document.createElement('div');
        wrapper.className = 'library-cards-section';
        return wrapper;
    }

    function clearLibrary() {
        libraryContent.innerHTML = '';
    }

    function getFilteredCards() {
        const selectedCategory = categoryFilter.value;
        return cards.filter(card => {
            const cardCategory = card.getAttribute('data-category');
            return selectedCategory === 'all' || selectedCategory === cardCategory;
        });
    }

    function sortAndDisplayCards() {
        const filteredCards = getFilteredCards();
        const sortValue = sortMethod.value;

        clearLibrary();

        if (filteredCards.length === 0) {
            const noBooks = document.createElement('p');
            noBooks.textContent = 'No books match the current filter.';
            libraryContent.appendChild(noBooks);
            return;
        }

        if (sortValue === 'alphabetical') {
            
            const sortedCards = filteredCards.sort((a, b) =>
                a.getAttribute('data-title').localeCompare(b.getAttribute('data-title'))
            );

            const groupedByLetter = {};
            sortedCards.forEach(card => {
                const firstLetter = card.getAttribute('data-first-letter');
                if (!groupedByLetter[firstLetter]) {
                    groupedByLetter[firstLetter] = [];
                }
                groupedByLetter[firstLetter].push(card);
            });

            const letters = Object.keys(groupedByLetter).sort();
            letters.forEach((letter, index) => {
                if (index > 0) {
                    libraryContent.appendChild(createSectionSeparator());
                }

                libraryContent.appendChild(createSectionHeader(letter, `letter-${letter}`));
                libraryContent.appendChild(createSectionSeparator());

                const cardsWrapper = createCardsWrapper();
                groupedByLetter[letter].forEach(card => {
                    cardsWrapper.appendChild(card);
                });
                libraryContent.appendChild(cardsWrapper);
            });

        } else {
            
            const sortedCards = filteredCards.sort((a, b) => {
                const dateA = new Date(a.getAttribute('data-finished-date'));
                const dateB = new Date(b.getAttribute('data-finished-date'));
                return dateB - dateA; 
            });

            const groupedByYear = {};
            sortedCards.forEach(card => {
                const year = card.getAttribute('data-finished-year');
                if (!groupedByYear[year]) {
                    groupedByYear[year] = [];
                }
                groupedByYear[year].push(card);
            });

            const years = Object.keys(groupedByYear).sort((a, b) => b - a); 
            years.forEach((year, index) => {
                if (index > 0) {
                    libraryContent.appendChild(createSectionSeparator());
                }

                libraryContent.appendChild(createSectionHeader(year, `year-${year}`));
                libraryContent.appendChild(createSectionSeparator());

                const cardsWrapper = createCardsWrapper();
                groupedByYear[year].forEach(card => {
                    cardsWrapper.appendChild(card);
                });
                libraryContent.appendChild(cardsWrapper);
            });
        }
    }

    
    sortAndDisplayCards();

    
    categoryFilter.addEventListener('change', sortAndDisplayCards);
    sortMethod.addEventListener('change', sortAndDisplayCards);
});
</script>



  </main>
  <footer>
    


<p class="copyright">Copyright 2025. All rights reserved.</p>

  </footer>
</body>
</html>
