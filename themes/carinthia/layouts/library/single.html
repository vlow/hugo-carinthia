{{ define "main" }}
{{ if .Params.banner }}
<div class="library-banner">
    <img src="{{ .Params.banner | relURL }}" alt="Banner for {{ .Title }}" />
</div>
{{ end }}

<div class="library-single">
    <h1 class="sr-only">{{ .Title }}</h1>

    {{ if .Params.summary }}
    <div class="library-summary">
        <p class="summary-text">{{ .Params.summary }}</p>
    </div>
    {{ end }}

    <div class="library-meta">
        {{ if .Params.finished_date }}
        {{ $dateMachine := .Params.finished_date | time.Format "2006-01-02T15:04:05-07:00" }}
        {{ $dateHuman := .Params.finished_date | time.Format ":date_long" }}
        <div class="meta-item">
            <span class="meta-label">Finished</span>
            <time datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>
        </div>
        {{ end }}

        {{ if .Params.category }}
        <div class="meta-item">
            <span class="meta-label">Category</span>
            <span class="category-badge category-{{ .Params.category }}">{{ .Params.category | title }}</span>
        </div>
        {{ end }}

        {{ if .Params.pages }}
        <div class="meta-item">
            <span class="meta-label">Pages</span>
            <span>{{ .Params.pages }}</span>
        </div>
        {{ end }}

        {{ if .Params.average_reading_time }}
        <div class="meta-item">
            <span class="meta-label">Reading Time</span>
            <span>{{ .Params.average_reading_time }} hours</span>
        </div>
        {{ end }}

        {{ if .Params.isbn }}
        <div class="meta-item">
            <span class="meta-label">ISBN</span>
            <span class="isbn">{{ .Params.isbn }}</span>
        </div>
        {{ end }}
    </div>

    {{ .Content }}

    {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}

    <div class="library-navigation">
        <a href="{{ "library" | relURL }}">&larr; View all Books...</a>
    </div>
</div>
{{ end }}
